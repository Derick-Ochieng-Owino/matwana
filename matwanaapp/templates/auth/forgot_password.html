{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgot Password - Matwana Matatu Management</title>
    <link rel="stylesheet" href="{% static 'css/auth.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
<div class="auth-container">
    <div class="auth-image-section">
        <div class="auth-image-overlay">
            <h2>Reset Your Password</h2>
            <p>Enter your email address to receive a password reset link and regain access to your account.</p>
        </div>
    </div>

    <div class="auth-content-section">
        <div class="auth-form-wrapper">
            <div class="auth-form-container">
                <img class="auth-logo" src="{% static 'images/logo.png' %}" alt="Matwana Logo">
                <h1 class="auth-title">Forgot Password</h1>
                <p class="auth-subtitle">Enter your email address and we'll send you instructions to reset your password</p>

                {% if messages %}
                    {% for message in messages %}
                        <div class="{% if message.tags == 'success' %}auth-success-message{% else %}auth-error-list{% endif %}">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}

                <form method="POST" action="{% url 'forgot_password' %}" class="auth-form" id="forgotPasswordForm">
                    {% csrf_token %}
                    
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <div class="input-with-icon">
                            <i class="fas fa-envelope"></i>
                            <input type="email" 
                                   id="email" 
                                   name="email" 
                                   placeholder="Enter your email address" 
                                   required>
                        </div>
                        {% if form.email.errors %}
                            <span class="field-error">{{ form.email.errors.0 }}</span>
                        {% endif %}
                        <div class="focus-border"></div>
                    </div>

                    <div class="auth-info-message">
                        <i class="fas fa-info-circle" style="margin-right: 8px;"></i>
                        You will receive a password reset link in your email inbox.
                    </div>

                    <button type="submit" class="auth-submit-btn" id="submitBtn">
                        <i class="fas fa-paper-plane" style="margin-right: 8px;"></i>
                        Send Reset Link
                    </button>
                </form>

                <div class="auth-form-footer">
                    Remember your password?
                    <a href="{% url 'login' %}" class="auth-link">Sign in here</a>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('forgotPasswordForm');
    const submitBtn = document.getElementById('submitBtn');

    // Form submission loading state
    form.addEventListener('submit', function() {
        submitBtn.classList.add('loading');
        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin" style="margin-right: 8px;"></i>Sending...';
    });
});
</script>
</body>
</html>